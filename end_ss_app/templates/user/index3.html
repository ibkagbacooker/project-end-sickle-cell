<!DOCTYPE html>
<html lang = "en">
    <head>
      <!--jquery  -->
        <script type="text/javascript" src="{{url_for('static', filename='js/jquery.js')}}"></script>  
        <title>Project end sickle cell</title>
        
        

        <!--Define character set-->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Project end sickle cell">
        <meta name="keywords" content=" Ngo, charity, nysc, lagos">
        <meta name="author" content="ibkagbacookist">
        
            
        <!--link google fonts-->
            
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700&display=swap" rel="stylesheet">
        <!--fontawesome-->
            <script src="https://kit.fontawesome.com/2b7f765909.js" crossorigin="anonymous"></script>
            
        <!--favicon-->
        <link rel="icon" href="{{url_for('static', filename='images/healthcare4.png')}}" type="image/x-icon">
            
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- scroll reveal -->
        <script src="https://unpkg.com/scrollreveal"></script>
             
         
           

        <!--css-->
            <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}" type="text/css">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
          
        <style>


        .mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Adjust the opacity (last value) to control the darkness of the mask */
        }

        .text-center1 {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    width: 100%;
    text-align: center;
    padding: 0 20px; /* Add padding to prevent text from sticking to edges */
}

    .font-dm{
        font-family: 'DM Sans', sans-serif;

    }

    .section_margin{
        margin-top: 100px;
    }

    .text-color-gray{
        color:#5e5e5e
    }

    .text-color-dark-red{
        color: #b91c1c
    }

    .error_border{
    box-shadow:  0 0 0 1px red;
    border-radius: 3px;
}



    @media (min-width: 768px) { /* This targets medium-sized screens and up */
  .custom-div {
    
   
    margin: auto;
    height: 400px; /* Set the height in pixels */
    width:700px;
   
    
  }
}
.custom-bg {
    background-color: #f9fbfc; /* Replace with your desired color code */
   
  }

.hidden{
    display: hidden;
}
    </style>
           
    </head> 
    <body class="font-dm">
          
      <nav class="navbar navbar-expand-md navbar-dark fixed-top " style="background-color: #121212;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"><img src="{{url_for('static', filename='images/healthcare_boot.png')}}" height="45"></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto mb-2 mb-md-0">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href='/gallery' aria-disabled="true">Gallery</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " aria-disabled="true">Contact Us </a>
              </li>
            </ul>
            <form class="d-flex" role="search">
             
              <button class="btn btn-outline-danger" type="submit">Donate</button>
            </form>
          </div>
        </div>
      </nav>
      
      <!-- background img -->
        <div class="row banner">
            <div class="bg-image p-5  mb-5 text-white" 
            style="background-image: url('../../static/images/nysc1.jpg');
                position: relative;
                height: 100vh;
                background-size: cover;
                background-position: center center;
                margin-bottom: 50px;">

                <div class="mask"></div>
                <div class="text-center1 ">
                <h1 class="display-4"> Project End Sickle Cell</h1>
                <p class="lead">Become a partner and help us stop the propagation of sickle cell anemia one corper at a time.</p>
                <button type="button" class="btn btn-danger btn-lg">Donate</button> 
                </div>


            </div>
        </div>
       
        <section id="our mission row">
            <div class="row mt-5 mb-5 p-4  custom-bg position-relative overflow-hidden">
                
                <!-- item 2 -->
                <div class="col-md-6 d-flex flex-column align-items-center justify-content-center Our_mission_div">

                    
                    <h2 class="text-center text-md-start text-danger ">Our mission</h2>
                    
                    
                    <h1 class="text-center text-md-start fw-bold  text-color-dark-red">Educating and giving genotype Tests to Corpers</h1>

                    <p class="text-center text-md-start text-color-gray">
                        Annually, about 300,000 newly diagnosed Sickle cell children are born worldwide.
                        Nigeria accounts for 100,000-150,000 newborns living with SCD annually (33% of the global burden of SCD).
                        A lot of nigerians unaware of their genotype status, 
                        this makes it even more challenging to curb the spread.  
                        we aim to combat this problem in our own little way by creating awareness amongst corpers and provide genotype testing for over 600 corpers, we would need your assistance to achieve this  
                    </p>

                    <div class=" mb-3 align-self-md-start">
                        <a href='#' class="">
                            <button type="button" class="btn btn-danger btn-lg">Donate now</button>
                        </a> 
                        
                    </div>
                </div>


                <!-- item 1 -->
                <div class="col-md-6 d-flex flex-column align-items-center justify-content-center Our_mission_img">
                    <img src="{{url_for('static', filename='images/nysc2.jpg')}}" alt="End sickle cell image" class= "img-fluid rounded">
                </div>

                
            </div>
        </section>

        <section id="about us">
            <div class="row mt-5 mb-5 p-4 About_us_row">
                <div class="col">
                    
                        <h2 class="text-center  text-danger About_us_text">About Us</h2>
                            
                            
                            <h1 class="text-center fw-bold  text-color-dark-red About_us_text2">We are corpers trying to make a change </h1>
                            <p class="text-center  text-color-gray About_us_text3"> Lorem ipsum dolor sit amet consectetur adipiscing elit augue egestas feugiat in id vitae a in dui diam diam libero purus nec enim dolor sed</p>
        
                           <div class=" d-flex flex-column justify-content-center align-items-center ">
                            <div class="ratio ratio-16x9 custom-div About_us_vid">
                            <iframe src="https://www.youtube.com/embed/eYfYZQZ-juk?si=VO0G4S89YjWHe3nj" style="min-width:280px; min-height:157px;" width="560px" height="315px" class='rounded' title="YouTube video player" allowfullscreen></iframe>
                        </div>
                        </div>
                            
                    
                </div>
            </div>

        </section>


        
    <section id='donate'>
   

            <div class="row custom-bg Donate_row">

                <div class="row mt-3">
                    <div class="col ">
                        <h2 class="text-center  text-danger Donate_text">Make A Donation</h2>
                    </div>
                </div>
                <!-- cards -->
                <div class="row p-5 mb-lg-4 Donate_card">
                    <div class="col-md-4 col-lg-6 d-flex flex-column align-items-center justify-content-center  mt-md-0 mt-lg-5 pt-lg-4">
                        <img src="{{url_for('static', filename='images/nysc3.png')}}" alt="End sickle cell image" class= "img-fluid rounded ">
                        
                        <img src="{{url_for('static', filename='images/healthcare_boot.png')}}" alt="End sickle cell image" height="40" width="" class= "align-self-start mt-3" > 
                        
                        <div class="align-self-start">
                            <h2 class="mt-3 fw-bold text-start ">
                                You Can Make A Difference Right Now
                            </h2>
                        </div>
                       
        
                        <p class="text-color-gray text-start">
                            This is a humanitarian project and we are a non-profit. people like you help help us keep this mission to end sickle cell alive. we rely on your donation to carry out our mission. Every Naira you donate will be used to carry out genotype testing and to educate corpers on menace called sickle cell anemia  
                        </p>
                        
                        </div>
        
        
                        <div class="col-md-8 col-lg-6  d-flex flex-column align-items-center justify-content-center mt-md-0 mt-lg-0 mt-4">
                            <div class="donation-form Donate_form">
                                <form class="row g-3 border border-dark border-2  text-white shadow-lg  rounded py-4 px-4" style='background-color: #121212;' id="form1">
                                    <input type="hidden" name="csrf_token" id="csrf_token2" value="{{csrf_token}}">
                                  
                                    <!-- javacript error -->
                                    <div class="row ">
                                        <div class="col">
                                        <span class="error"></span>
                                        </div>
                                    </div>  
                                    <div class="col-md-12">
                                    
                                        <h1>
                                            Donation Form
                                        </h1>
                                    </div>
        
                                    <div class="col-md-6">
                                    <label for="inputFirstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control fname" name="inputFirstName" id="inputFirstName" placeholder="First Name">
                                    </div>
                                    <div class="col-md-6">
                                    <label for="inputLastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control lname"  name="inputLastName" id="inputLastName" placeholder="Last Name">
                                    </div>
                                    <div class="col-md-6">
                                    <label for="inputAddress" class="form-label">Email</label>
                                    <input type="email" class="form-control email"  name="inputAddress" id="inputAddress" placeholder="Email address">
                                    </div>
                                    <div class="col-md-6">
                                    <label for="inputPhonenumber" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control phone"  name="inputPhonenumber" id="inputPhonenumber" placeholder="Phone Number">
                                    </div>
        
                                    
                                    <div class="col-md-12">
                                    
                                        <h3>
                                            Donation Amount
                                        </h3>
                                    </div>
        
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="500">
                                            <label class="form-check-label" for="gridRadios1">
                                                &#8358 500
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="1000">
                                            <label class="form-check-label" for="gridRadios2">
                                                &#8358 1000
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="2000">
                                            <label class="form-check-label" for="gridRadios3">
                                                &#8358 2000
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios4" value="5000">
                                            <label class="form-check-label" for="gridRadios4">
                                                &#8358 5000
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios5" value="10000" >
                                            <label class="form-check-label" for="gridRadios5">
                                                &#8358 10000
                                            </label>
                                        </div>
                                        <div class="col-md-6 col-lg-3">
                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios6" onclick="toggleInput()">
                                            <label class="form-check-label" for="gridRadios6"> 
                                            others
                                            </label>
                                        </div>
                                        
                                        <div class="col-md-6">
                                            
                                            <input type="number" name="other_amount" class="form-control" id="other_amount" style="display:none;" placeholder="Enter amount (digits only)" onkeyup="updateRadio3Value()">
                                        </div>
        
        
                
        
                                
                                    
                                    <div class="col-12">
                                    <button type="submit" class="btn btn-danger">Submit</button>
                                    </div>
                                </form>
                            </div>        
                        </div>
                </div>    
                
               
            </div>
            
        
    </section>
    
      
    <section id="contact us">
        
            <div class="row  border border-black border rounded section_margin mb-5 mx-4 Contact_us_row">
                <div class="col-md-12 ">
                    <div class="row ">
                        <div class="col-md-6">
                            <h1 class="display-1 ">Want to get in touch?</h1>
                        </div>
                        
                        <div class="col-md-6" style="color: #9598A4">
                            <form action="/contact" method="post" id="form">
                                <input type="hidden" name="csrf_token" id="csrf_token" value="{{csrf_token}}">
                                <div class="mb-3 mt-3">
                                  <label for="Full_Name" class="form-label">Name</label>
                                  <input type="text" class="form-control" id="Full_Name" name="fullname" required>
                                </div>
                                
                                <div class="mb-3 mt-3">
                                  <label for="Email" class="form-label">Email address</label>
                                  <input type="email" class="form-control" name="emailadd" id="Email" required>
                                </div>
                                
                                <div class="mb-3">
                                  <label for="FormControlTextarea1" class="form-label">Message</label>
                                  <textarea class="form-control" id="FormControlTextarea1" rows="3" name="text"  ></textarea>
                                </div>
                                <div class="mb-3">
                                  <button class="btn btn-danger" type="submit">Submit</button>
                                </div>
                            </form>
    
                            
                        </div>
                    </div>
                </div>
                
            </div>
        

    </section>  

    <section id="footer">
        
            <footer class="py-5 px-3 custom-bg section_margin Footer_row">
              <div class="row">
                <div class="col-6 col-md-5 mb-3">
                  <h5>Links</h5>
                  <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Home</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">About</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Gallery</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Contact us</a></li>
                    
                  </ul>
                </div>
          
               
          
                <div class="col-md-5 offset-md-2     mb-3">
                  <form>
                    <h5>Subscribe to our newsletter</h5>
                    <p>Monthly digest of what's new and exciting from us.</p>
                    <div class="d-flex flex-column flex-sm-row w-100 gap-2">
                      <label for="newsletter1" class="visually-hidden">Email address</label>
                      <input id="newsletter1" type="text" class="form-control" placeholder="Email address">
                      <button class="btn btn-dark" type="button">Subscribe</button>
                    </div>
                  </form>
                </div>
              </div>
          
              <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top">
                <p>&copy; 2023 Project End Sickle Cell, Inc. All rights reserved.</p>
                <ul class="list-unstyled d-flex">
                  <li class="ms-3"><a class="link-body-emphasis" href="#"><i class="fa-brands fa-facebook fa-2xl"></i></a></li>
                  <li class="ms-3"><a class="link-body-emphasis" href="#"><i class="fa-brands fa-instagram fa-2xl"></i></a></li>
                  <li class="ms-3"><a class="link-body-emphasis" href="#"><i class="fa-brands fa-twitter fa-2xl"></i></a></li>
                </ul>
              </div>
            </footer>
         
    </section>
   

    <section id="contact_modal">
        <div class="modal fade" id="Modal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Thank You!</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="flashes">
                    
                    {% with messages = get_flashed_messages()%}
                    {%if messages%}
                    {%for message in messages%}
                    {{message}}
                    {%endfor%}
                    {%endif%}
                    {%endwith%} 
                    
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  
                </div>
              </div>
            </div>
          </div>

          
    </section>

    </body>

      
       <script>
        ScrollReveal().reveal('.navbar');
        ScrollReveal().reveal('.banner');
        ScrollReveal().reveal('.Our_mission_div',{ delay: 500 });
        ScrollReveal().reveal('.Our_mission_img', { delay: 300 });
        ScrollReveal().reveal('.About_us_text', { delay: 300 });
        ScrollReveal().reveal('.About_us_text2', { delay: 400 });
        ScrollReveal().reveal('.About_us_text3', { delay: 500 });
        ScrollReveal().reveal('.About_us_vid', { delay: 600 });
        ScrollReveal().reveal('.Contact_us_row', { delay: 300 });
        ScrollReveal().reveal('.Donate_text', { delay: 300 });
        ScrollReveal().reveal('.Donate_card', { delay: 400 });
        ScrollReveal().reveal('.Donate_form', { delay: 500 });
        ScrollReveal().reveal('.Footer_row', { delay: 500 });
        
       </script>

       <script>


       function toggleInput() {
            var inputElement = document.getElementById('other_amount');
            inputElement.style.display = (inputElement.style.display === 'none' || inputElement.style.display === '') ? 'block' : 'none';
        }
       </script>

<script>
    const form = document.getElementById('form1');
    const fname = document.querySelector(".fname");
    const lname = document.querySelector(".lname");
    const email= document.querySelector(".email");
    const phone= document.querySelector(".phone");
    const gridRadios1 = document.getElementById("gridRadios1");
    const gridRadios2 = document.getElementById("gridRadios2");
    const gridRadios3 = document.getElementById("gridRadios3");
    const gridRadios4 = document.getElementById("gridRadios4");
    const gridRadios5 = document.getElementById("gridRadios5");
    const gridRadios6 = document.getElementById("gridRadios6");
    const emailregex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const error = document.querySelector(".error");
    
    const radios = document.getElementsByName('gridRadios');
    var selectedValue = '';

    // for (let i = 0; i < radios.length; i++) {
    //     if (radios[i].checked) {
    //         selectedValue = radios[i].value;
    //         console.log(selectedValue);
    //         break;
    //     }
    // }
    

    
    const inputs= document.querySelectorAll('input'); 
    
    
    form.addEventListener("submit", (e)=>{
        e.preventDefault();
        check_error();
        window.scrollTo({
                top: form.offsetTop,
                behavior: 'smooth'
            });
    })

    function check_error(){
        if (fname.value.length===0){
            error_handler('please write your first name')

        }
        else if(lname.value.length===0){
            error_handler('please write your last name')
        
        }
        else if(email.value.length===0){
            error_handler('kindly input your email')
        
        }
        else if(!(emailregex.test(email.value))){
            error_handler('please input a valid email')
        }
        else if(phone.value.length===0){
            error_handler('please input a valid phone number')
            
        }
        else if(!(gridRadios1.checked || gridRadios2.checked || gridRadios3.checked || gridRadios4.checked || gridRadios5.checked || gridRadios6.checked)){
            error_handler('kindly select an amount')
        
        }
        else{
            for (let i = 0; i < radios.length; i++) {
                if (radios[i].checked) {
                    selectedValue = radios[i].value;
                    console.log(selectedValue);
                    break;
                }
            }

           
            // form.submit()
            payWithPaystack()
        }
    }
   function error_handler(text){
    
    const message= document.querySelector(".error");
    
    message.innerHTML = `<p class="alert alert-danger">${text}</p>`;
    message.classList.add('active');

    
   }


   //paystack code

 


function payWithPaystack() {
  

  let handler = PaystackPop.setup({
    key: 'pk_test_b7cdb6b256fcf08d1999b4a49bda2504fae9b04c', // Replace with your public key
    email: document.getElementById("inputAddress").value,
    amount: selectedValue* 100,
    ref: ''+Math.floor((Math.random() * 1000000000) + 1), // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you
    // label: "Optional string that replaces customer email"
    onClose: function(){
      alert('Window closed.');
    },
    
    callback: function(response){ 
        var refNo = response.reference;
        

        data2send={
            'reference': refNo,
            'firstName':fname.value,
            'lastName':lname.value,
            'email':email.value,
            'phone':phone.value,
            'amount':selectedValue,
            
            
        }
        $.ajax({
                        url:"/transaction",
                        type:"POST",
                        contentType: "application/json",
                        data: JSON.stringify(data2send),
                        dataType:"json",
                        

                        success:function(rsp){
                            if(rsp.status == 'success'){
                                alert(rsp.message)
                            }else{
                                alert('Transaction failed')
                                console.log(rsp.message)  
                            }
                    },
                    error:function(e){
                        console.log(e)
                    }
                    });      
        
      
      
    },
  });
  
  handler.openIframe();
}
</script>

<script type="text/javascript">
    function updateRadio3Value() {
        // Get the value from the input field
        var inputValue = document.getElementById("other_amount").value;

        // Set the value of radio6
        document.getElementById("gridRadios6").value = inputValue;
    }

    document.addEventListener('DOMContentLoaded', function() {
    var modal = new bootstrap.Modal(document.getElementById('Modal1'));
    var messages = "{{get_flashed_messages()}}"
    if(messages !='[]'){
        modal.show();
    };

    // Show the modal
   

   
});
    
  

    

    </script>



<script src="https://js.paystack.co/v1/inline.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>